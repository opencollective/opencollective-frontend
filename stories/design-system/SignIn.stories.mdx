import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import SignIn from '../../components/SignIn';

<Meta title="Design system/SignIn" component={SignIn} />

"Sign In" button stays disabled until there is a value in the email input.

Uses the built-in browser email validation to block submission until valid.

### Base form

<Canvas>
  <Story name="Base Form">
    {() => {
      const [action, setAction] = React.useState(null);
      const [email, setEmail] = React.useState('');
      return (
        <div>
          <SignIn
            onSubmit={value => setAction(`The form was submitted with a value of ${value}`)}
            onSecondaryAction={() => setAction('Secondary action was clicked')}
            onEmailChange={setEmail}
            email={email}
          />
          <p>{action}</p>
        </div>
      );
    }}
  </Story>
</Canvas>

### Loading / submitting

<Canvas>
  <Story name="Loading / Submitting">
    {() => {
      return <SignIn loading onSubmit={() => {}} onSecondaryAction={() => {}} email="test+betree@doohicollective.org" />;
    }}
  </Story>
</Canvas>

### With an unknown email

<Canvas>
  <Story name="With Unknown Email">
    {() => {
      return (
        <SignIn onSubmit={() => {}} onSecondaryAction={() => {}} unknownEmail email="test+betree@doohicollective.org" />
      );
    }}
  </Story>
</Canvas>
