import { ArgsTable, Meta, Story } from '@storybook/addon-docs/blocks';
import VirtualCard from '../../components/edit-collective/VirtualCard';
import { webpackCollective, openSourceHost } from '../mocks/collectives';
import ToastProvider from '../../components/ToastProvider';
import { UserContext } from '../../components/UserProvider';
import { loggedInUser } from '../mocks/loggedInUser';

<Meta title="Virtual Cards/VirtualCard" component={VirtualCard} argTypes={{}} />

# VirtualCard

## With Host Admin

export const DefaultStory = props => <VirtualCard {...props} />;

<Canvas>
  <Story
    name="With Host Admin"
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/ZQBMWhnGGtRWeIZknFW1eP/%5BOC-Design%5D-Production-Ready-%E2%9C%85?node-id=18797%3A200561',
      },
    }}
  >
    <UserContext.Provider value={{ LoggedInUser: loggedInUser, loadingLoggedInUser: false }}>
      <VirtualCard
        host={openSourceHost}
        virtualCard={{
          account: openSourceHost,
          assignee: webpackCollective,
          data: { status: 'active' },
          last4: '9012',
          privateData: { cvv: '321', expiryDate: '12/30', cardNumber: '5432123456789012' },
          currency: 'USD',
          provider: 'STRIPE',
          spendingLimitAmount: 50000,
          spendingLimitInterval: 'MONTHLY',
          createdAt: '2022-09-29T05:00:00Z',
        }}
        canEditVirtualCard
        canPauseOrResumeVirtualCard
        canDeleteVirtualCard
      />
    </UserContext.Provider>
  </Story>
</Canvas>

## With Collective Admin

<Canvas>
  <Story
    name="With Collective Admin"
    parameters={{
      design: {
        type: 'figma',
        url: 'https://www.figma.com/file/ZQBMWhnGGtRWeIZknFW1eP/%5BOC-Design%5D-Production-Ready-%E2%9C%85?node-id=18797%3A200561',
      },
    }}
  >
    <VirtualCard
      host={openSourceHost}
      virtualCard={{
        account: openSourceHost,
        assignee: webpackCollective,
        data: { status: 'active' },
        last4: '9012',
        privateData: { cvv: '321', expiryDate: '12/30', cardNumber: '5432123456789012' },
        currency: 'USD',
        provider: 'STRIPE',
        spendingLimitAmount: 50000,
        spendingLimitInterval: 'MONTHLY',
        createdAt: '2022-09-29T05:00:00Z',
      }}
      canEditVirtualCard
      canPauseOrResumeVirtualCard
      canDeleteVirtualCard
    />
  </Story>
</Canvas>
